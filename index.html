<html>
  <head>
  </head>

  <body onload="OnLoad()">
    <div id="sections">
    </div>
    <div id="scorebar">
      Score: <span id="score">?</span> of <span id="count">?</span> = <span id=percent>?</span>%
    </div>
    <div id="question">
    </div>
    <div id="answers">
      <div> A: <span id="answerA"></div> </div>
      <div> B: <span id="answerB"></div> </div>
      <div> C: <span id="answerC"></div> </div>
      <div> D: <span id="answerD"></div> </div>
    </div>
    <div>
      <button onclick="CheckAnswer('A')">A</button>
      <button onclick="CheckAnswer('B')">B</button>
      <button onclick="CheckAnswer('C')">C</button>
      <button onclick="CheckAnswer('D')">D</button>
    </div>
    <div id="status">
    </div>
    <div>
      <button onclick="NewQuestion()">Next question</button>
    </div>
    <script>

questions = {
  "Country Codes": [
    {
      "text": "What country has the callsign prefix 'EA'?",
      "correct": "Spain",
      "wrong": [
        "Slovenia",
        "Poland",
        "Portugal"
      ]
    },
    {
      "text": "What country has the callsign prefix 'EU'?",
      "correct": "Belarus",
      "wrong": [
        "Spain",
        "Estonia",
        "Guernsey"
      ]
    },
    {
      "text": "What country has the callsign prefix 'SP'?",
      "correct": "Poland",
      "wrong": [
        "Slovenia",
        "Spain",
        "Portugal"
      ]
    },
    {
      "text": "What is the callsign of Iceland?",
      "correct": "TF",
      "wrong": [
        "I",
        "ISO",
        "OY"
      ]
    },
    {
      "text": "Which Letters represent Germany?",
      "correct": "DL",
      "wrong": [
        "LY",
        "SM",
        "9A"
      ]
    },
    {
      "text": "Which Letters represent Finland?",
      "correct": "OH",
      "wrong": [
        "GU",
        "FI",
        "LX"
      ]
    },
    {
      "text": "Which Letters represent Iceland?",
      "correct": "TF",
      "wrong": [
        "EA",
        "UR",
        "SM"
      ]
    },
    {
      "text": "Which Letters represent Estonia?",
      "correct": "ES",
      "wrong": [
        "EA",
        "ET",
        "EX"
      ]
    },
    {
      "text": "Which Letters represent Slovakia?",
      "correct": "OM",
      "wrong": [
        "SL",
        "YL",
        "LY"
      ]
    },
    {
      "text": "Which Letters represent Netherlands?",
      "correct": "PA",
      "wrong": [
        "NL",
        "UR",
        "AP"
      ]
    },
    {
      "text": "Which Letters represent Ireland?",
      "correct": "EI",
      "wrong": [
        "IR",
        "ID",
        "I"
      ]
    },
    {
      "text": "Which Letters represent Malta?",
      "correct": "9H",
      "wrong": [
        "9A",
        "MA",
        "5B"
      ]
    },
    {
      "text": "Which Letters represent Croatia?",
      "correct": "9A",
      "wrong": [
        "9H",
        "CA",
        "CR"
      ]
    },
    {
      "text": "Which Letters represent Norway?",
      "correct": "LA",
      "wrong": [
        "NG",
        "NO",
        "GD"
      ]
    },
    {
      "text": "Which Letters represent Denmark?",
      "correct": "OZ",
      "wrong": [
        "D",
        "DM",
        "6H"
      ]
    },
    {
      "text": "Which Letters represent Hungary?",
      "correct": "HA",
      "wrong": [
        "UR",
        "HY",
        "YO"
      ]
    },
    {
      "text": "Which Letters represent Guernsey?",
      "correct": "GU",
      "wrong": [
        "G",
        "GY",
        "M"
      ]
    },
    {
      "text": "Which Letters represent Guernsey?",
      "correct": "MU",
      "wrong": [
        "G",
        "GY",
        "M"
      ]
    },
    {
      "text": "Which Letters represent Cyprus?",
      "correct": "5B",
      "wrong": [
        "9A",
        "CY",
        "CS"
      ]
    },
    {
      "text": "Which Letters represent Jersey?",
      "correct": "GJ",
      "wrong": [
        "JS",
        "JY",
        "GD"
      ]
    },
    {
      "text": "Which Letters represent Jersey?",
      "correct": "MJ",
      "wrong": [
        "JS",
        "JY",
        "GD"
      ]
    },
    {
      "text": "Which Letters represent Lithuania?",
      "correct": "LY",
      "wrong": [
        "LA",
        "LI",
        "LT"
      ]
    },
    {
      "text": "Which Letters represent Portugal?",
      "correct": "CT",
      "wrong": [
        "PT",
        "PL",
        "TC"
      ]
    },
    {
      "text": "Which Letters represent Latvia?",
      "correct": "YL",
      "wrong": [
        "LY",
        "LA",
        "LV"
      ]
    },
    {
      "text": "Which Letters represent Spain?",
      "correct": "EA",
      "wrong": [
        "S",
        "ES",
        "SP"
      ]
    },
    {
      "text": "Which Letters represent Belgium?",
      "correct": "ON",
      "wrong": [
        "BM",
        "BE",
        "TA"
      ]
    },
    {
      "text": "Which Letters represent Greece?",
      "correct": "SV",
      "wrong": [
        "GR",
        "GE",
        "9A"
      ]
    },
    {
      "text": "Which Letters represent Ukraine?",
      "correct": "UR",
      "wrong": [
        "UA",
        "UK",
        "UE"
      ]
    },
    {
      "text": "Which Letters represent Luxembourg?",
      "correct": "LX",
      "wrong": [
        "LU",
        "5B",
        "9H"
      ]
    },
    {
      "text": "Which Letters represent Sweden?",
      "correct": "SM",
      "wrong": [
        "SW",
        "SN",
        "SV"
      ]
    },
    {
      "text": "Which Letters represent Russia?",
      "correct": "UA",
      "wrong": [
        "RA",
        "RU",
        "RS"
      ]
    },
    {
      "text": "Which Letters represent Slovenia?",
      "correct": "S5",
      "wrong": [
        "SL",
        "SV",
        "ON"
      ]
    },
    {
      "text": "Which Letters represent Austria?",
      "correct": "OE",
      "wrong": [
        "A",
        "AU",
        "EO"
      ]
    },
    {
      "text": "Which Letters represent Northern Ireland?",
      "correct": "GI",
      "wrong": [
        "NI",
        "NO",
        "EI"
      ]
    },
    {
      "text": "Which Letters represent Northern Ireland?",
      "correct": "MI",
      "wrong": [
        "NI",
        "GM",
        "NO"
      ]
    },
    {
      "text": "Which Letters represent Switzerland?",
      "correct": "HB",
      "wrong": [
        "SW",
        "SZ",
        "BH"
      ]
    },
    {
      "text": "Which Letters represent Italy?",
      "correct": "I",
      "wrong": [
        "IT",
        "9I",
        "I5"
      ]
    },
    {
      "text": "Which Letters represent Canada?",
      "correct": "VE",
      "wrong": [
        "C",
        "CA",
        "EV"
      ]
    },
    {
      "text": "Which Letters represent Poland?",
      "correct": "SP",
      "wrong": [
        "P",
        "PS",
        "PL"
      ]
    },
    {
      "text": "Which Letters represent England?",
      "correct": "G",
      "wrong": [
        "E",
        "EN",
        "EL"
      ]
    },
    {
      "text": "Which Letters represent England?",
      "correct": "M",
      "wrong": [
        "GE",
        "GM",
        "EL"
      ]
    },
    {
      "text": "Which Letters represent the Isle of Man?",
      "correct": "GD",
      "wrong": [
        "IM",
        "MA",
        "9I"
      ]
    },
    {
      "text": "Which Letters represent the Isle of Man?",
      "correct": "MD",
      "wrong": [
        "MA",
        "DO",
        "9H"
      ]
    },
    {
      "text": "Which Letters represent the USA?",
      "correct": "K",
      "wrong": [
        "US",
        "U",
        "A"
      ]
    },
    {
      "text": "Which Letters represent The USA?",
      "correct": "N",
      "wrong": [
        "US",
        "UA",
        "T"
      ]
    },
    {
      "text": "Which Letters represent The USA?",
      "correct": "W",
      "wrong": [
        "V",
        "US",
        "UA"
      ]
    },
    {
      "text": "Which Letters represent Romania?",
      "correct": "YO",
      "wrong": [
        "R",
        "RO",
        "RA"
      ]
    },
    {
      "text": "Which Letters represent Czech Republic?",
      "correct": "OK",
      "wrong": [
        "CR",
        "KO",
        "CZ"
      ]
    },
    {
      "text": "Which Letters represent Bulgaria?",
      "correct": "LZ",
      "wrong": [
        "BU",
        "BL",
        "LB"
      ]
    },
    {
      "text": "Which Letters represent France?",
      "correct": "F",
      "wrong": [
        "FR",
        "6F",
        "FE"
      ]
    },
    {
      "text": "Which Letters represent Wales?",
      "correct": "GW",
      "wrong": [
        "WG",
        "WS",
        "SW"
      ]
    },
    {
      "text": "Which Letters represent Wales?",
      "correct": "MW",
      "wrong": [
        "WM",
        "WA",
        "WL"
      ]
    },
    {
      "text": "Which Letters represent Scotland?",
      "correct": "GM",
      "wrong": [
        "GS",
        "SC",
        "SD"
      ]
    },
    {
      "text": "Which Letters represent Scotland?",
      "correct": "MM",
      "wrong": [
        "SS",
        "SC",
        "GS"
      ]
    }
  ],
  "Q codes": [
    {
      "text": "What Q code means 'What is the readability of my signals?'",
      "correct": "QRK",
      "wrong": [
        "QRL",
        "QSO",
        "QRV"
      ]
    },
    {
      "text": "What Q code means 'Are you being interfered with?'",
      "correct": "QRM",
      "wrong": [
        "QRN",
        "QRI",
        "QSO"
      ]
    },
    {
      "text": "What Q code means 'Are you troubled by static?'",
      "correct": "QRN",
      "wrong": [
        "QRM",
        "QRI",
        "QRK"
      ]
    },
    {
      "text": "What Q code means 'Shall I increase transmitter power?'",
      "correct": "QRO",
      "wrong": [
        "QRT",
        "QTH",
        "QRP"
      ]
    },
    {
      "text": "What Q code means 'Shall I decrease transmitter power?'",
      "correct": "QRP",
      "wrong": [
        "QRO",
        "QRO",
        "QRZ"
      ]
    },
    {
      "text": "What Q code means 'Shall I stop sending?",
      "correct": "QRT",
      "wrong": [
        "QRV",
        "QRS",
        "QRX"
      ]
    },
    {
      "text": "What Q code means 'Who is calling me?'",
      "correct": "QRZ",
      "wrong": [
        "QRK",
        "QRW",
        "QSL"
      ]
    },
    {
      "text": "What Q code means 'Are my signals fading?'",
      "correct": "QSB",
      "wrong": [
        "QRB",
        "QSR",
        "QRS"
      ]
    },
    {
      "text": "What Q code means 'Can you acknowledge receipt?'",
      "correct": "QSL",
      "wrong": [
        "QSY",
        "QRX",
        "QTH"
      ]
    },
    {
      "text": "What Q code means 'Can you communicate with --- direct?'",
      "correct": "QSO",
      "wrong": [
        "QSL",
        "QSB",
        "QSY"
      ]
    },
    {
      "text": "What Q code means 'Shall I change to transmission on another frequency?'",
      "correct": "QSY",
      "wrong": [
        "QSL",
        "QRV",
        "QSF"
      ]
    },
    {
      "text": "What Q code means When will you call again?'",
      "correct": "QRX",
      "wrong": [
        "QRS",
        "QCA",
        "QRV"
      ]
    },
    {
      "text": "What Q code means 'What is your position in latitude and longitude (or according to any other indication'?",
      "correct": "QTH",
      "wrong": [
        "QRH",
        "QRX",
        "QRP"
      ]
    }
  ]
}

correct = 0
wrong = 0
section = "Country Codes"

function shuffle(array) {
      for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
}

function SetSection(s) {
  section = s
  NewQuestion()
}

function OnLoad() {
  for (section in questions) {
          text = `<button type=\"button\" onClick=SetSection(\"${section}\")>${section}</button> &nbsp;`
    document.getElementById("sections").innerHTML += text
  }

  NewQuestion()
}

function NewQuestion() {
  document.getElementById("status").innerHTML = ""
           
  current_section = questions[section]
  question = current_section[Math.floor(current_section.length * Math.random())]

  document.getElementById("question").innerHTML = question.text
  order = ["answerA", "answerB", "answerC", "answerD"]
  shuffle(order)
  document.getElementById(order[0]).innerHTML = question.correct
  document.getElementById(order[1]).innerHTML = question.wrong[0]
  document.getElementById(order[2]).innerHTML = question.wrong[1]
  document.getElementById(order[3]).innerHTML = question.wrong[2]
}

function UpdateScore(correct, wrong) {
  document.getElementById("score").innerHTML = correct
  document.getElementById("count").innerHTML = correct + wrong
  document.getElementById("percent").innerHTML = (correct / (correct + wrong)) * 100
}

function CheckAnswer(answer) {
  text = document.getElementById("answer"+answer).innerHTML
  if (text == question.correct) {
    correct += 1
    document.getElementById("status").innerHTML = "Correct"
  } else {
    wrong += 1
    document.getElementById("status").innerHTML = "Wrong"
  }
  UpdateScore(correct, wrong)
}
    </script>
  </body>
</html>
